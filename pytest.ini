[pytest]
DJANGO_SETTINGS_MODULE = competitor_monitor.settings
python_files = tests.py test_*.py *_tests.py
python_classes = Test*
python_functions = test_*

# Chemins où chercher les tests
testpaths = auth_app/tests competitors/tests alerts/tests clients/tests

# Options par défaut
addopts = 
    --cov=auth_app
    --cov=competitors
    --cov=alerts
    --cov=clients
    --cov-report=html
    --cov-report=term-missing
    -v
    --tb=short
    --strict-markers

# Markers personnalisés
markers =
    unit: Tests unitaires (logique isolée)
    integration: Tests d intégration (plusieurs composants)
    functional: Tests fonctionnels E2E (Selenium)
    slow: Tests lents à exécuter
    selenium: Tests nécessitant Selenium

# Base de données de test
django_find_project = true

# Ignorer certains dossiers
norecursedirs = .git .tox dist build *.egg venv my_env __pycache__